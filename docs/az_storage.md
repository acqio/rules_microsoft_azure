<a name="az_storage"></a>
## az_storage

```python
az_storage(
    name,
    config,
    account_name,
    container_name,
    srcs
)
```

A rule for setting basic properties for other rules.

<table class="table table-condensed table-bordered table-params">
  <colgroup>
    <col class="col-param" />
    <col class="param-description" />
  </colgroup>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <p><code>Name, required</code></p>
        <p>Unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>config</code></td>
      <td>
        <p><code>Label, required</code></p>
        <p>Label of <code>az_config</code> target.</p>
      </td>
    </tr>
    <tr>
      <td><code>account_name</code></td>
      <td>
        <p><code>String, required</code></p>
        <p>Storage account name.</p>
        <p>This field supports stamp variables.</p>
      </td>
    </tr>
    <tr>
      <td><code>container_name</code></td>
      <td>
        <p><code>String, required</code></p>
        <p>Container name to copy or remove sources. </p>
        <p>This field supports stamp variables.</p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <p><code>Label keyed String Dict, required</code></p>
        <p>The list of targets that have a file to be copy or removed from a Container.</p>
        <p>The path to the file in the storage account will be the target value defined in the dictionary.</p>
      </td>
    </tr>
  </tbody>
</table>

## Examples

```python
load("@rules_microsoft_azure//az:defs.bzl", "az_config", "az_storage")

genrule(
    name = "generate",
    outs = [
        "generated1.txt",
        "generated2.txt",
    ],
    cmd = """
echo -e 'This is a file generated by a genrule rule and will be copied to a blobstorage.' > $(location generated1.txt);
echo -e 'This is a file generated by a genrule rule and will be copied to a blobstorage.' > $(location generated2.txt);
""",
    visibility = ["//visibility:public"],
)

az_config(
    name = "config",
    debug = True,
    subscription = "dev",
    verbose = True,
)

az_storage(
    name = "foo",
    srcs = {
        ":generate": "path/to/container/",
    },
    account_name = "bar",
    config = ":config",
    container_name = "baz",
)
```

## Usage

The `az_storage` rules expose a collection of actions. We will follow the `:foo`
target from the example above.

### Resolve

Users can obtain information about the artifacts by running:

```shell
bazel run :foo
```

The data will be printed on` STDOUT`.

### Copy

Users can copy objects to a container by running:

```shell
bazel run :foo.copy
```

### Remove

Users can remove objects from a container by running:

```shell
bazel run :foo.remove
```
